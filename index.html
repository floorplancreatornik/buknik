<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>NIKBUK - Bookstore</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --bg: #0f172a;
            --card-bg: #1e293b;
            --text: #f8fafc;
            --nav-height: 70px;
            --top-bar-height: 60px;
        }

        body {
            margin: 0;
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: var(--bg);
            color: var(--text);
            /* Fix for infinite scroll feel and bar occlusion */
            overflow-x: hidden;
            height: 100%;
        }

        #app {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Top Bar & Bottom Nav Layout */
        header {
            position: fixed;
            top: 0; width: 100%; height: var(--top-bar-height);
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(10px);
            z-index: 100;
            display: flex; align-items: center; justify-content: center;
            border-bottom: 1px solid #334155;
        }

        nav {
            position: fixed;
            bottom: 0; width: 100%; height: var(--nav-height);
            background: var(--card-bg);
            z-index: 100;
            display: flex; justify-content: space-around; align-items: center;
            border-top: 1px solid #334155;
            padding-bottom: env(safe-area-inset-bottom);
        }

        /* MAIN CONTENT SCROLLING FIX */
        main {
            flex: 1;
            padding-top: calc(var(--top-bar-height) + 10px);
            padding-bottom: calc(var(--nav-height) + 20px);
            min-height: calc(100vh + 1px); /* Ensures it always scrolls */
            box-sizing: border-box;
        }

        .slide { text-align: center; padding: 40px 20px; }
        .hidden { display: none; }
        
        input {
            width: 100%; padding: 12px; margin: 10px 0;
            background: var(--card-bg); border: 1px solid #334155;
            color: white; border-radius: 8px; font-size: 16px;
        }

        .btn-primary {
            background: var(--primary); color: white; border: none;
            padding: 14px 28px; border-radius: 8px; font-weight: 700;
            width: 100%; cursor: pointer; transition: 0.3s;
        }

        /* Book Cards */
        .book-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 15px;
        }
        .book-card {
            background: var(--card-bg); border-radius: 12px; padding: 10px;
            text-align: left; transition: transform 0.2s;
        }
        .book-card img { width: 100%; border-radius: 8px; margin-bottom: 10px; }
        .book-card h3 { font-size: 14px; margin: 5px 0; }
        .book-card p { color: #94a3b8; font-size: 12px; }
    </style>
</head>
<body>

<div id="app">
    <div id="step1" class="slide">
        <h1 style="font-size: 40px;">NIKBUK</h1>
        <p>A Journey into the world of stories.</p>
        <button class="btn-primary" onclick="nextStep(2)">Get Started</button>
    </div>

    <div id="step2" class="slide hidden">
        <h2>Your Identity</h2>
        <p style="color: #94a3b8; margin-bottom: 20px;">Enter details to explore the app.</p>
        <input type="text" id="regName" placeholder="Full Name">
        <input type="tel" id="regPhone" placeholder="Phone Number">
        <button class="btn-primary" style="margin-top: 20px;" onclick="bypassLogin()">Enter Bookstore</button>
        <p style="font-size: 11px; margin-top: 15px; color: #64748b;">(OAuth disabled for test access)</p>
    </div>

    <div id="mainUI" class="hidden">
        <header><strong>NIKBUK</strong></header>
        
        <main id="contentArea">
            <div id="homeTab">
                <h2 style="padding: 0 15px;">Featured Books</h2>
                <div class="book-grid" id="catalog"></div>
            </div>
        </main>

        <nav>
            <span onclick="showTab('home')">Home</span>
            <span onclick="showTab('search')">Search</span>
            <span onclick="showTab('profile')">Profile</span>
        </nav>
    </div>
</div>

<script>
    // Real Data from DC Books & Publishers
    const books = [
        { id: 1, title: "Randamoozham", author: "M.T. Vasudevan Nair", price: "₹359", pic: "https://via.placeholder.com/150x200?text=Randamoozham" },
        { id: 2, title: "Aadujeevitham", author: "Benyamin", price: "₹247", pic: "https://via.placeholder.com/150x200?text=Goat+Days" },
        { id: 3, title: "Wings of Fire", author: "A.P.J. Abdul Kalam", price: "₹213", pic: "https://via.placeholder.com/150x200?text=Wings+of+Fire" },
        { id: 4, title: "Pathummayude Aadu", author: "V.M. Basheer", price: "₹144", pic: "https://via.placeholder.com/150x200?text=Pathumma" },
        { id: 5, title: "Khasakkinte Ithihasam", author: "O.V. Vijayan", price: "₹269", pic: "https://via.placeholder.com/150x200?text=Khasak" }
    ];

    function nextStep(step) {
        document.getElementById('step1').classList.add('hidden');
        document.getElementById('step2').classList.remove('hidden');
    }

    function bypassLogin() {
        const name = document.getElementById('regName').value;
        const phone = document.getElementById('regPhone').value;
        if (!name || !phone) { alert("Please enter Name and Phone"); return; }
        
        document.getElementById('step2').classList.add('hidden');
        document.getElementById('mainUI').classList.remove('hidden');
        loadCatalog();
    }

    function loadCatalog() {
        const grid = document.getElementById('catalog');
        grid.innerHTML = books.map(book => `
            <div class="book-card">
                <img src="${book.pic}" alt="${book.title}">
                <h3>${book.title}</h3>
                <p>${book.author}</p>
                <div style="font-weight:bold; color:var(--primary);">${book.price}</div>
            </div>
        `).join('');
    }

    function showTab(tab) {
        console.log("Switching to " + tab);
    }

    // Auto-login check
    window.onload = () => {
        // You can add logic here to check for existing sessions
    };
</script>

</body>
    </html>
